name: Download with wget

on: workflow_dispatch

jobs:
  download:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Install wget
        run: sudo apt-get install -y wget
        
      - name: Download using wget
        run: |
          wget \
            --timeout=30 \
            --tries=3 \
            --output-document=tv.txt \
            --verbose \
            "http://43.251.226.89:8080/live.txt"
          
          echo "wget 退出状态: $?"
          
          if [ -f "tv.txt" ]; then
            echo "文件已下载，大小: $(wc -c < tv.txt) 字节"
          fi
